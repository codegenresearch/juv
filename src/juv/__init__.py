"""A wrapper around `uv` to launch ephemeral Jupyter notebooks."""\nfrom __future__ import annotations\nimport sys"os\nfrom pathlib import Path\nimport click\nimport shutil\nimport rich\n\ndef assert_uv_available() -> None:\n    """Check if the 'uv' command is available and handle errors appropriately."""\n    if shutil.which("uv") is None:\n        rich.print("Error: 'uv' command not found.", file=sys.stderr)\n        rich.print("Please install 'uv' to run `juv`.", file=sys.stderr)\n        rich.print("For more information, visit: https://github.com/astral-sh/uv", file=sys.stderr)\n        sys.exit(1)\n\n@click.group()\ndef cli() -> None:\n    """A wrapper around uv to launch ephemeral Jupyter notebooks."""\n    pass\n\n@cli.command()\ndef version() -> None:\n    """Display juv's version."""\n    from ._version import __version__\n    print(f"juv {__version__}")\n\n@cli.command()\ndef info() -> None:\n    """Display juv and uv versions."""\n    from ._version import __version__\n    import subprocess\n    print(f"juv {__version__}")\n    uv_version = subprocess.run(["uv", "version"], capture_output=True, text=True)\n    print(uv_version.stdout)\n\n@cli.command()\n@click.argument("file", type=click.Path(exists=False), required=False)\n@click.option("--python", type=click.STRING, required=False)\ndef init(file: str | None, python: str | None) -> None:\n    """Initialize a new notebook."""\n    from ._init import init as init_notebook\n    init_notebook(path=Path(file) if file else None, python=python)\n\n@cli.command()\n@click.argument("file", type=click.Path(exists=True), required=True)\n@click.option("--requirements", "-r", type=click.Path(exists=True), required=False)\n@click.argument("packages", nargs=-1)\ndef add(file: str, requirements: str | None, packages: tuple[str, ...]) -> None:\n    """Add dependencies to the notebook."""\n    from ._add import add as add_dependencies\n    add_dependencies(path=Path(file), packages=packages, requirements=requirements)\n    rich.print(f"Updated `[cyan]{Path(file).resolve().absolute()}[/cyan]`")\n\n@cli.command()\n@click.argument("file", type=click.Path(exists=True), required=True)\n@click.option("--jupyter", required=False, help="The Jupyter frontend to use. [env: JUV_JUPYTER=]")\n@click.option("--with", "with_args", type=click.STRING, multiple=True)\n@click.option("--python", type=click.STRING, required=False)\ndef run(file: str, jupyter: str | None, with_args: tuple[str, ...], python: str | None) -> None:\n    """Launch a notebook or script."""\n    from ._run import run as run_notebook\n    run_notebook(path=Path(file), jupyter=jupyter, python=python, with_args=with_args)\n\ndef upgrade_legacy_jupyter_command(args: list[str]) -> None:\n    """Check legacy lab/notebook/nbclassic command usage and upgrade to 'run' with deprecation notice."""\n    for i, arg in enumerate(args):\n        if i == 0:\n            continue\n        if (\n            arg.startswith(("lab", "notebook", "nbclassic"))\n            and not args[i - 1].startswith("--")  # Make sure previous arg isn't a flag\n            and not arg.startswith("--")\n        ):\n            rich.print(\n                f"[bold]Warning:[/bold] The command '{arg}' is deprecated. "\n                f"Please use 'run' with `--jupyter={arg}` or set JUV_JUPYTER={arg}"\\n            )\n            os.environ["JUV_JUPYTER"] = arg\n            args[i] = "run"\n\ndef main() -> None:\n    """Entry point for the juv command-line interface."""\n    upgrade_legacy_jupyter_command(sys.argv)\n    cli()\n